//////////////////////////////////////////////////////////////////////////////
//! \file sac2_scene.hpp
//! \author
//!     Chengwu HUANG
//! \version
//!     0.1 (development version)
//! \date
//!     2013-08-21
//////////////////////////////////////////////////////////////////////////////

#include <sac2_scene.hpp>

namespace sac2
{

//////////////////////////////////////////////////////////////////////////////
// Scene::Scene
//////////////////////////////////////////////////////////////////////////////
Scene::Scene():
  m_object_set()
{
  // do nothing
}

//////////////////////////////////////////////////////////////////////////////
// Scene::~Scene
//////////////////////////////////////////////////////////////////////////////
Scene::~Scene()
{
  // do nothing
}

//////////////////////////////////////////////////////////////////////////////
// Scene::add_object
//////////////////////////////////////////////////////////////////////////////
void Scene::add_object(GameObject* object)
{
  m_object_set.insert(object);
}

//////////////////////////////////////////////////////////////////////////////
// Scene::update
//////////////////////////////////////////////////////////////////////////////
void Scene::update(float dt)
{
  for (object_const_riter_t iter(m_object_set.rbegin());
                                 m_object_set.rend() != iter;
                                 ++iter) {
    // call rendering methode of the object whether it is renderable
    if (true == (*iter)->is_renderable()) { (*iter)->rendering(); }
  }
}

} // namespace sac2

