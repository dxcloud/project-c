//////////////////////////////////////////////////////////////////////////////
//! \file
//!     sac2_vector2d.inl
//! \author
//!     Chengwu HUANG
//! \version
//!     0.1 (develpment version)
//! \date
//!     2013-07-01
//////////////////////////////////////////////////////////////////////////////

#ifndef SAC2_VECTOR_2D_HPP_INCLUDE
#define SAC2_VECTOR_2D_HPP_INCLUDE

namespace sac2
{

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D::Vector2D():
  x(0.0F),
  y(0.0F)
{
  // do nothing
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D::Vector2D(float v_x, float v_y):
  x(v_x),
  y(v_y)
{
  // do nothing
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D::Vector2D(const Vector2D& vector):
  x(vector.x),
  y(vector.y)
{
  // do nothing
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D::Vector2D(const sf::Vector2f& vector):
  x(vector.x),
  y(vector.y)
{
  // do nothing
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D::~Vector2D()
{
  // do nothing
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D& Vector2D::operator=(const Vector2D& vector)
{
  this->x = vector.x;
  this->y = vector.y;
  return (*this);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline bool Vector2D::operator==(const Vector2D& vector) const
{
  if (cts::EPSILON < fabs(x - vector.x)) { return false; }
  if (cts::EPSILON < fabs(y - vector.y)) { return false; }
  return true;
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline bool Vector2D::operator!=(const Vector2D& vector) const
{
  return !(operator==(vector));
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D Vector2D::operator-() const
{
  return Vector2D(-x, -y);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D Vector2D::operator+(const Vector2D& vector) const
{
  return Vector2D(x + vector.x, y + vector.y);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D Vector2D::operator-(const Vector2D& vector) const
{
  return Vector2D(x - vector.x, y - vector.y);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D Vector2D::operator~() const
{
  return Vector2D(x, -y);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D Vector2D::operator*(float scalar) const
{
  return Vector2D(scalar * x, scalar * y);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D operator*(float scalar, const Vector2D& vector)
{
  return Vector2D(scalar * vector.x, scalar * vector.y);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D Vector2D::operator/(float scalar) const
{
  Vector2D result;
  if (cts::EPSILON < fabs(scalar)) {
    result(x / scalar, y / scalar);
  }
  return result;
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline const Vector2D& Vector2D::operator()(float v_x, float v_y)
{
  this->x = v_x;
  this->y = v_y;
  return (*this);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D& Vector2D::operator+=(const Vector2D& vector)
{
  this->x += vector.x;
  this->y += vector.y;
  return (*this);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D& Vector2D::operator-=(const Vector2D& vector)
{
  this->x -= vector.x;
  this->y -= vector.y;
  return (*this);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D& Vector2D::operator*=(float scalar)
{
  this->x *= scalar;
  this->y *= scalar;
  return (*this);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D& Vector2D::operator/=(float scalar)
{
  if (cts::EPSILON < fabs(scalar)) {
    this->x /= scalar;
    this->y /= scalar;
  }
  return (*this);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline float Vector2D::dot(const Vector2D& vector) const
{
  return ((x * vector.x) + (y * vector.y));
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline float Vector2D::cross(const Vector2D& vector) const
{
  return ((x * vector.y) - (y * vector.x));
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline float Vector2D::norm() const
{
  return sqrtf(norm_2());
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline float Vector2D::norm_2() const
{
  return ((x * x) + (y * y));
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline std::ostream& operator<<(std::ostream& os, const Vector2D& vector)
{
  os << "(" << vector.x << ", " << vector.y << ")";
  return os;
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline bool Vector2D::is_collinear(const Vector2D& vector) const
{
  if (cts::EPSILON > cross(vector)) { return true; }
  return false;
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline bool Vector2D::is_perpendicular(const Vector2D& vector) const
{
  if (cts::EPSILON > dot(vector)) { return true; }
  return false;
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline float Vector2D::angle() const
{
  return atan2(y, x);
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline float Vector2D::angle(const Vector2D& vector) const
{
  return (angle() - vector.angle());
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D Vector2D::normalized() const
{
  return ((*this) / norm());
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D Vector2D::projected(const Vector2D& vector) const
{
  Vector2D result(vector.normalized());
  return (result * dot(vector));
}

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
inline Vector2D Vector2D::orthogonal() const
{
  return Vector2D(-y, x);
}

}

#endif
