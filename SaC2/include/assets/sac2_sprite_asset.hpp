//////////////////////////////////////////////////////////////////////////////
//! \file sac2_sprite_asset.hpp
//! \author
//!     Chengwu HUANG
//! \version
//!     0.1 (development version)
//! \date
//!     2013-07-01
//! \brief
//!     Provides sprite asset manipulation class.
//////////////////////////////////////////////////////////////////////////////

#ifndef SAC2_SPRITE_ASSET_HPP
#define SAC2_SPRITE_ASSET_HPP

#include <SFML/Graphics.hpp>

#include <sac2_graphic_asset.hpp>

namespace sac2
{

class AssetManager;  // forward declaration

//////////////////////////////////////////////////////////////////////////////
//! \class SpriteAsset
//! \brief
//////////////////////////////////////////////////////////////////////////////
class SpriteAsset:
  public GraphicAsset<sf::Sprite>
{
public:
  friend class AssetManager;

public:
  ////////////////////////////////////////////////////////////////////////////
  //! \brief
  //!     Public default constructor
  ////////////////////////////////////////////////////////////////////////////
  SpriteAsset();

  ////////////////////////////////////////////////////////////////////////////
  //! \brief
  //!     Public default destructor
  ////////////////////////////////////////////////////////////////////////////
  virtual ~SpriteAsset();

  ////////////////////////////////////////////////////////////////////////////
  //! \brief
  //!     Set the sub-rectangle of the texture. Only the texture in
  //!     in the sub-rectangle is displayed.
  ////////////////////////////////////////////////////////////////////////////
  void set_sub_rectangle(size_t x, size_t y, size_t width, size_t height);

private:
  ////////////////////////////////////////////////////////////////////////////
  //! \brief
  //!     Load the source texture of the sprite
  //! \param[in] texture
  //!     Texture to be used by the sprite
  //! \details
  //!     If the source texture changed, the sprite will automatically
  //!     adjust its size.
  ////////////////////////////////////////////////////////////////////////////
  void load(const sf::Texture& texture);

private:
  ////////////////////////////////////////////////////////////////////////////
  //! \brief
  //!     Private copy constructor
  ////////////////////////////////////////////////////////////////////////////
  SpriteAsset(const SpriteAsset&);

  ////////////////////////////////////////////////////////////////////////////
  //! \brief
  //!     Private assignement operator
  ////////////////////////////////////////////////////////////////////////////
  SpriteAsset& operator=(const SpriteAsset&);
};  // class SpriteAsset

}  // namespace sac2

#include <sac2_sprite_asset.inl>

#endif  //! SAC2_SPRITE_ASSET_HPP

